/* Variables de la raíz ya definidas en el contexto anterior: */
/* --color-primary: #2ea9a1; --color-accent-blue: #4aa8ff; */
/* --bg-secondary: #1f2e3c; --text-secondary: #a7b3be; --text-main: #e8ecf0; */
/* --border-soft: #3c4a56; --unsc-ease: cubic-bezier(0.16, 1, 0.3, 1); */
/* --unsc-fast: 0.18s; --unsc-normal: 0.28s; --space-sm: 1rem; --space-md: 2rem; */

/* ------------------------------------ */
/* ANIMACIONES (Reutilizadas) */
/* ------------------------------------ */

@keyframes staticNoise { /* Ruido estático sutil */
    0% { background-position: 0 0; }
    100% { background-position: -50px -50px; }
}
@keyframes borderFlicker { /* Parpadeo de borde al iniciar */
    0%, 100% { border-color: var(--border-soft); box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.4); }
    10% { border-color: var(--color-accent-blue); box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.6), 0 0 30px rgba(74, 168, 255, 0.25); }
    12% { border-color: var(--border-soft); }
    15% { border-color: var(--color-accent-blue); }
    18% { border-color: var(--border-soft); }
}
@keyframes scanline { /* Barrido holográfico */
  0% { transform: translateX(-30%); }
  100% { transform: translateX(130%); }
}
@keyframes footerFadeIn { /* Entrada del footer */
  0% { opacity: 0; transform: translateY(25px); filter: blur(3px);}
  60% { opacity: 1; transform: translateY(-3px); filter: blur(0.5px);}
  100% { opacity: 1; transform: translateY(0); filter: blur(0);}
}

/* ------------------------------------ */
/* PANEL DE PRODUCTOS (#footer) */
/* ------------------------------------ */

#footer {
  box-sizing: border-box;
  width: 100%;
  padding: 1.5rem var(--space-md); /* Menos padding vertical, más para contenido */
  
  /* Nuevo: Uso de Flexbox para envolver los chips de producto */
  display: flex;
  flex-wrap: wrap; 
  gap: 0.8rem; /* Espacio entre chips */
  justify-content: center; /* Centrar los chips en la línea inferior */
  align-items: flex-start; /* Alinear arriba si hay múltiples filas */
  
  min-height: 80px; /* Altura mínima */
  font-weight: 500;
  font-size: 0.95rem; /* Letra más pequeña para chips */
  color: var(--text-main); /* Usamos texto principal para los nombres */

  background-color: var(--bg-secondary);

  border-top: 1px solid var(--border-soft);
  
  box-shadow:
    0 -4px 15px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(74, 168, 255, 0.08);
  animation: 
    footerFadeIn 1.2s var(--unsc-ease) forwards,
    borderFlicker 3s 1.2s ease-out 1; 

  position: fixed; /* Lo fijamos en la parte inferior para ser un panel de HUD */
  bottom: 0;
  left: 0;
  z-index: 1000; /* Aseguramos que esté encima de todo */
  overflow: hidden;
  opacity: 0;
}

/* ------------------------------------ */
/* CAPAS DE EFECTO HUD */
/* ------------------------------------ */

/* Ruido Estático */
#footer::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        transparent,
        transparent 1px,
        rgba(46, 169, 161, 0.02) 2px,
        rgba(74, 168, 255, 0.02) 3px
    );
    opacity: 0.4;
    pointer-events: none;
    animation: staticNoise 10s linear infinite;
    z-index: 1;
}

/* Línea Holográfica Superior (Usamos una clase si no podemos usar ::after/::before para ambas líneas) */
/* Nota: Como solo necesitamos una línea en la parte superior para este panel de HUD, usamos un pseudo-elemento */

#footer::after { 
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    height: 2px;
    width: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        var(--color-accent-blue),
        transparent
    );
    opacity: 0.6;
    pointer-events: none;
    z-index: 2;
    animation: scanline 5s linear infinite;
}


/* ------------------------------------ */
/* CHIP DE PRODUCTO (div) */
/* ------------------------------------ */

#footer > div {
    display: flex;
    align-items: center;
    padding: 0.4rem 0.6rem;
    border-radius: 4px; /* Esquinas ligeramente afiladas */
    background-color: var(--bg-card); /* Fondo Forerunner para el chip */
    
    border: 1px solid var(--border-soft);
    color: var(--text-main);
    
    /* Animación de entrada: individual para cada chip */
    opacity: 0;
    transform: translateY(10px);
    animation: textRise 0.5s var(--unsc-ease) forwards;
    /* Necesitas asignar un retraso secuencial en React o CSS usando nth-child */
    /* Ejemplo si se usa CSS: #footer > div:nth-child(2) { animation-delay: 0.1s; } */
    
    transition: all var(--unsc-normal) var(--unsc-ease);
}

#footer > div:hover {
    border-color: var(--color-primary); /* Borde UNSC Teal al pasar el ratón */
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

@keyframes textRise {
  0% { opacity: 0; transform: translateY(10px); filter: blur(2px); }
  100% { opacity: 1; transform: translateY(0); filter: blur(0); }
}

/* ------------------------------------ */
/* BOTÓN DE ELIMINAR (✖️) */
/* ------------------------------------ */

#footer > div button {
    /* Estilos base de botón de cierre */
    border: none;
    background: transparent;
    color: var(--color-accent-blue); /* Azul Energía para el icono de cierre */
    margin-left: 0.5rem;
    padding: 0;
    cursor: pointer;
    font-size: 1rem;
    line-height: 1;

    transition: color var(--unsc-fast) var(--unsc-ease), transform var(--unsc-fast);
}

#footer > div button:hover {
    color: var(--color-primary); /* Teal UNSC al pasar el ratón */
    transform: rotate(90deg) scale(1.1);
}

/* ------------------------------------ */
/* RESPONSIVE MEJORADO */
/* ------------------------------------ */

/* Pantallas medianas/Tablet */
@media (max-width: 900px) {
    #footer {
        padding: 1rem var(--space-sm);
        gap: 0.6rem;
    }
}

/* Móvil (hasta 600px) - Reducir tamaño y centrar */
@media (max-width: 600px) {
    #footer {
        padding: 0.8rem var(--space-xs);
        font-size: 0.9rem;
        gap: 0.5rem;
        min-height: 70px;
    }
    
    #footer > div {
        padding: 0.3rem 0.5rem;
    }
    
    #footer > div button {
        font-size: 0.9rem;
        margin-left: 0.4rem;
    }
}